(this["webpackJsonptiendaonline-santosmalbran"]=this["webpackJsonptiendaonline-santosmalbran"]||[]).push([[0],{47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},51:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/logo.a544fd8c.png"},65:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var n=c(6),a=c.n(n),i=c(39),o=c.n(i),r=(c(47),c(48),c(11)),s=(c(49),c(4)),d=function(e){var t=e.onConfirm,c=e.maxQuantity,n=a.a.useState(1),i=Object(r.a)(n,2),o=i[0],d=i[1];return Object(s.jsxs)("div",{className:"contador",children:[Object(s.jsxs)("div",{className:"contenedor-contador",children:[Object(s.jsx)("button",{className:"resta",onClick:function(){o>=2&&d(o-1)},children:"-"}),Object(s.jsx)("p",{className:"stock",children:o}),Object(s.jsx)("button",{className:"suma",onClick:function(){o<c&&d(o+1)},children:"+"})]}),Object(s.jsx)("button",{class:"agregar-carrito",onClick:function(){return t(o)},children:"Agregar a carrito"})]})},l=c(20),j=(c(51),function(e){var t=e.productos;return Object(s.jsxs)("div",{className:"contenedor-general",children:[Object(s.jsx)("h1",{children:" Detalle del producto "}),Object(s.jsxs)("div",{className:"contenedor-detalle",children:[Object(s.jsx)("img",{src:t.img,alt:t.nombre,className:"img-detalle"}),Object(s.jsxs)("div",{className:"contenedor-desc",children:[Object(s.jsx)("h2",{className:"titulo",children:t.nombre}),Object(s.jsx)("p",{className:"desc",children:t.descripcion}),Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"contenedor-precio",children:[Object(s.jsx)("div",{className:"precio",children:Object(s.jsx)("p",{className:"color-precio",children:t.precio})}),Object(s.jsx)("button",{className:"button-volver",children:"Lista de Productos"})]})})]})]})]})}),b=c(16),u=c(21),m=a.a.createContext(),O=function(e){var t=e.children,c=a.a.useState([]),n=Object(r.a)(c,2),i=n[0],o=n[1];return Object(s.jsx)(m.Provider,{value:{carro:i,addItem:function(e,t){var c;c=e.id,i.some((function(e){return e.id===c}))?(!function(e,t){Object(u.a)(i).forEach((function(e){e.id===e.id&&(e.cantidad+=t)}))}(0,t),alert("se agrego al carrito")):o([].concat(Object(u.a)(i),[Object(l.a)(Object(l.a)({},e),{},{cantidad:t})]))},remove:function(e){var t=i.filter((function(t){return t.id!==e}));alert("se borro un producto del carrito"),o(t)},clear:function(){alert("se limpio el carrito"),o([])},total:function(){var e=0;return i.forEach((function(t){e+=t.precio*t.cantidad})),e}},children:t})},h=m,x=function(e){var t=e.productos;console.log("Aca este es el producto en ItemDetail",t);var c=Object(n.useState)(!0),a=Object(r.a)(c,2),i=a[0],o=a[1],l=Object(n.useContext)(h).addItem;if(void 0===t)return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:"Cargando"}),Object(s.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Loader.gif/480px-Loader.gif",alt:"loading",srcset:""})]});var u=d;return Object(s.jsxs)("div",{className:"contenedor-caja",children:[Object(s.jsx)(j,{productos:t},t.paramId),i?Object(s.jsx)(u,{onConfirm:function(e){alert("Se agregaron la cantidad de "+e+" "+t.nombre+" al carrito"),console.log("Se agregaron la cantidad de "+e+t.nombre),l(t,e),o(!1)},maxQuantity:null===t||void 0===t?void 0:t.stock}):Object(s.jsx)(b.b,{to:"/cart",children:"Ir al carrito"})]})},f=c(12),p=c(42),g=c(13),v=p.a({apiKey:"AIzaSyBBPh0TV4Ne7Nv8Nv22YQr_HOtn3nGre2o",authDomain:"tienda-online-santos-malbran.firebaseapp.com",projectId:"tienda-online-santos-malbran",storageBucket:"tienda-online-santos-malbran.appspot.com",messagingSenderId:"1525407099",appId:"1:1525407099:web:39fa077b91f9e4e3b2f1de",measurementId:"G-GV36992571"}),N=Object(g.f)(v),I=function(){var e=a.a.useState([]),t=Object(r.a)(e,2),c=t[0],i=t[1],o=Object(f.f)().paramId;return Object(n.useEffect)((function(){return Object(g.d)(Object(g.c)(N,"items",o)).then((function(e){var t=Object(l.a)({id:e.id},e.data());i(t)})),function(){i([])}}),[o]),Object(s.jsx)("div",{className:"itemDetailContainer",children:Object(s.jsx)(x,{productos:c})})},k=(c(61),function(e){var t=e.productos;return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"contenedor-items",children:[Object(s.jsx)("div",{className:"contenedor-tituloItems",children:Object(s.jsxs)("h2",{children:[" ",t.nombre," "]})}),Object(s.jsx)("div",{className:"contenedor-imagen",children:Object(s.jsx)("img",{src:t.img,alt:t.nombre,className:"img-prod"})}),Object(s.jsx)("div",{className:"contenedor-precio",children:Object(s.jsx)("p",{children:t.precio})}),Object(s.jsx)(b.b,{to:"/detail/".concat(t.id),children:"Pedir"})]})})}),C=function(e){var t=e.productos;return console.log("Aca estan los productos en ItemList",t),Object(s.jsx)("ul",{children:t.map((function(e){return Object(s.jsx)(k,{productos:e},e.id)}))})},S=function(){var e=a.a.useState([]),t=Object(r.a)(e,2),c=t[0],i=t[1],o=Object(f.f)().categoriaId;return console.log(o),Object(n.useEffect)((function(){return o?Object(g.e)(Object(g.g)(Object(g.b)(N,"items"),Object(g.h)("categoria","==",o))).then((function(e){console.log(e);var t=e.docs.map((function(e){return console.log(e),Object(l.a)({id:e.id},e.data())}));i(t)})):Object(g.e)(Object(g.b)(N,"items")).then((function(e){console.log(e);var t=e.docs.map((function(e){return console.log(e),Object(l.a)({id:e.id},e.data())}));i(t)})),function(){i([])}}),[o]),Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Tienda Santos-Malbran "}),Object(s.jsx)(C,{productos:c})]})},E=(c(62),function(){var e=Object(n.useContext)(h).carro;return Object(s.jsx)(b.b,{to:"/cart",className:"widg",children:Object(s.jsxs)("div",{className:"container-CartWidget",children:[Object(s.jsx)("i",{className:"fas fa-shopping-cart cart"}),Object(s.jsx)("p",{className:"contador",children:e.length})]})})}),P=(c(63),[{id:"Hamburguesas",description:"Hamburguesas"},{id:"Empanadas",description:"Empanadas"},{id:"Pizza",description:"Pizza"}]),w=function(){var e=a.a.useState([]),t=Object(r.a)(e,2),i=t[0],o=t[1];return Object(n.useEffect)((function(){new Promise((function(e,t){setTimeout((function(){e(P)}),1e3)})).then((function(e){o(e)}))}),[]),console.log("estas son las categorias"+i),Object(s.jsxs)("header",{className:"contenedor-header",children:[Object(s.jsx)("div",{className:"contenedor-logo",children:Object(s.jsx)("img",{src:c(64).default,alt:"logo",className:"logo"})}),Object(s.jsx)("div",{className:"contenedor-incio",children:Object(s.jsx)(b.b,{to:"/",className:"botones-menu",children:"Inicio"})}),Object(s.jsx)("div",{className:"contenedor-navbar",children:i.map((function(e){return Object(s.jsx)(b.b,{className:"link",to:"/categoria/".concat(e.id),children:e.description},e.id)}))}),Object(s.jsx)(E,{}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{className:"botones-menu",children:"Login"})})]})},y=c(9),z=(c(65),function(){var e=Object(n.useContext)(h),t=e.carro,c=e.remove,a=e.clear,i=e.total,o=Object(n.useState)(!1),d=Object(r.a)(o,2),j=d[0],u=d[1],m=Object(n.useState)(!1),O=Object(r.a)(m,2),x=O[0],f=O[1],p=Object(n.useState)({name:"",email:""}),v=Object(r.a)(p,2),N=v[0],I=v[1],k=new Date,C=function(e){var t=e.target,c=t.name,n=t.value;I(Object(l.a)(Object(l.a)({},N),{},Object(y.a)({},c,n)))};return Object(n.useEffect)((function(){u(!1),0===t.length?u(!1):u(!0)}),[t]),Object(s.jsx)(s.Fragment,{children:j?Object(s.jsxs)("div",{className:"carrito",children:[t.map((function(e){return Object(s.jsx)("div",{className:"contenedor-carrito",children:Object(s.jsxs)("div",{className:"contenedor-detalles",children:[Object(s.jsx)("div",{className:"contenedor-img-carrito",children:Object(s.jsx)("img",{className:"imagen-carrito",src:e.img,alt:e.name})}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("h3",{children:["Nombre del producto: ",e.nombre]}),Object(s.jsxs)("h3",{children:["Precio del producto: ",e.precio]}),Object(s.jsxs)("h3",{children:["Cantidad a pedir: ",e.cantidad]}),Object(s.jsx)("button",{className:"boton-carrito",onClick:function(){return c(e.id)},children:"Borrar"})]})]})},e.id)})),Object(s.jsxs)("h3",{children:["Total: $ ",i()]}),Object(s.jsx)("button",{className:"boton-carrito",onClick:a,children:"Limpiar"}),x?Object(s.jsx)("h1",{children:"Felicitaciones, compra exitosa"}):Object(s.jsxs)("form",{method:"POST",onSubmit:function(){f(!0);var e=Object(g.f)(),c={buyer:{email:N.email,name:N.name},items:t,date:k},n=Object(g.i)(e),a=[];c.items.forEach((function(t){Object(g.d)(Object(g.c)(e,"items",t.id)).then((function(c){c.data.stock>=t.amount?n.update(Object(g.c)(e,"items",c.id),{stock:c.data.stock-t.amount}):a.push(Object(l.a)({id:c.id},c.data()))}))})),0===a.length&&Object(g.a)(Object(g.b)(e,"orders"),c).then((function(e){n.commit().then((function(){console.log("el num de orden es ".concat(e.id))}))})).catch((function(e){console.error(e)}))},children:[Object(s.jsx)("input",{onChange:C,type:"email",name:"email",placeholder:"email"}),Object(s.jsx)("input",{onChange:C,type:"text",name:"name",placeholder:"nombre"}),Object(s.jsx)("button",{className:"btn btn-success",disabled:0===(null===t||void 0===t?void 0:t.length)||""===N.nombre||""===N.email,children:"Finaliza tu compra!"})]})]}):Object(s.jsxs)("div",{className:"carrito",children:[Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:" El carrito esta vacios "})}),Object(s.jsx)("div",{children:Object(s.jsx)(b.b,{to:"/",children:"Ira a la tienda"})})]})})});var L=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(O,{children:Object(s.jsxs)(b.a,{children:[Object(s.jsx)(w,{}),Object(s.jsxs)(f.c,{children:[Object(s.jsx)(f.a,{path:"/",exact:!0,children:Object(s.jsx)(S,{})}),Object(s.jsx)(f.a,{path:"/detail/:paramId",children:Object(s.jsx)(I,{})}),Object(s.jsx)(f.a,{exact:!0,path:"/categoria/:categoriaId",children:Object(s.jsx)(S,{})}),Object(s.jsx)(f.a,{exact:!0,path:"/cart",children:Object(s.jsx)(z,{})}),Object(s.jsx)(f.a,{path:"/count",children:Object(s.jsx)(d,{stock:5,initial:1})})]})]})})})};o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(L,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.113d6f0f.chunk.js.map